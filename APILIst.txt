ProductController
Get Products - Done.
Add a product - Done.
Get one product - Done.
Filter Product - Done.
Rate product. - Done.
Add items to Cart - Done.
Get items of cart - Done.
Remove items from cart. - Done.

UserController
Signup - Email, Name, Password, TypeOfUser(customer, seller) - Done.
Signin - (Email, Password) - Done.


{_id: Cat1, averagePrice: 30000},

{_id: Cat2, averagePrice: 34000}

1. Find average rating of a product.

db.products.aggregate([
    {
        $unwind:"$ratings"
    },
    {
        $group:{_id:"$name", averageRating: {$avg: "$ratings.rating"}}
    }
])

{
    id:'P1', averageRating: 4
}

// Find count of ratings for products.

db.products.aggregate([
    {
        $project: {name:1, countOfRatings:{ $cond:{
            if:{$isArray:"$ratings"}, 
                then:{$size: "$ratings"}, else:0}
        }}
    }
])

// Find product with highest number of rating.


db.products.aggregate([
    {
        $project: {name:1, countOfRatings:{ $cond:{
            if:{$isArray:"$ratings"}, 
                then:{$size: "$ratings"}, else:0}
        }}
    },
        {
            $sort:{countOfRatings: -1}
        },
        {
            $limit:1
        }
])


{
    id:'P1', countOfRatings: 2
}
